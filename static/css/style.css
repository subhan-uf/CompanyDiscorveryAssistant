/*
  Dark, modern UI theme
  - Uses CSS variables for quick tuning
  - Minimal markup changes required
*/

:root {
  --bg: #0b0f14;
  --bg-accent: radial-gradient(1200px 800px at 10% -20%, #0f1720 0%, rgba(15,23,32,0) 60%),
                radial-gradient(1200px 800px at 110% -30%, #0b1320 0%, rgba(11,19,32,0) 60%),
                #0b0f14;
  --surface: #0f1520;
  --surface-2: #121a26;
  --text: #e6edf3;
  --muted: #9fb0c0;
  --border: #1f2a3a;
  --primary: #3b82f6;          /* Blue 500 */
  --primary-600: #2563eb;      /* Blue 600 */
  --danger: #ef4444;           /* Red 500 */
  --shadow: 0 10px 30px rgba(0,0,0,.35);
  --radius: 12px;
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  color: var(--text);
  background: var(--bg-accent);
}

.container { max-width: 1080px; margin: 0 auto; padding: 20px; }

/* Decorative animated background for the app with subtle overlay */
.container {
  position: relative;
  --c: #1ea7ff;
  background-color: transparent; /* keep global bg behind */
  isolation: isolate;
}
.container::before {
  content: "";
  position: absolute;
  inset: 0;
  z-index: 0;
  background-image:
    radial-gradient(4px 100px at 0px 235px, var(--c), #0000),
    radial-gradient(4px 100px at 300px 235px, var(--c), #0000),
    radial-gradient(1.5px 1.5px at 150px 117.5px, var(--c) 100%, #0000 150%),
    radial-gradient(4px 100px at 0px 252px, var(--c), #0000),
    radial-gradient(4px 100px at 300px 252px, var(--c), #0000),
    radial-gradient(1.5px 1.5px at 150px 126px, var(--c) 100%, #0000 150%),
    radial-gradient(4px 100px at 0px 150px, var(--c), #0000),
    radial-gradient(4px 100px at 300px 150px, var(--c), #0000),
    radial-gradient(1.5px 1.5px at 150px 75px, var(--c) 100%, #0000 150%),
    radial-gradient(4px 100px at 0px 253px, var(--c), #0000),
    radial-gradient(4px 100px at 300px 253px, var(--c), #0000),
    radial-gradient(1.5px 1.5px at 150px 126.5px, var(--c) 100%, #0000 150%),
    radial-gradient(4px 100px at 0px 204px, var(--c), #0000),
    radial-gradient(4px 100px at 300px 204px, var(--c), #0000),
    radial-gradient(1.5px 1.5px at 150px 102px, var(--c) 100%, #0000 150%),
    radial-gradient(4px 100px at 0px 134px, var(--c), #0000),
    radial-gradient(4px 100px at 300px 134px, var(--c), #0000),
    radial-gradient(1.5px 1.5px at 150px 67px, var(--c) 100%, #0000 150%),
    radial-gradient(4px 100px at 0px 179px, var(--c), #0000),
    radial-gradient(4px 100px at 300px 179px, var(--c), #0000),
    radial-gradient(1.5px 1.5px at 150px 89.5px, var(--c) 100%, #0000 150%),
    radial-gradient(4px 100px at 0px 299px, var(--c), #0000),
    radial-gradient(4px 100px at 300px 299px, var(--c), #0000),
    radial-gradient(1.5px 1.5px at 150px 149.5px, var(--c) 100%, #0000 150%),
    radial-gradient(4px 100px at 0px 215px, var(--c), #0000),
    radial-gradient(4px 100px at 300px 215px, var(--c), #0000),
    radial-gradient(1.5px 1.5px at 150px 107.5px, var(--c) 100%, #0000 150%),
    radial-gradient(4px 100px at 0px 281px, var(--c), #0000),
    radial-gradient(4px 100px at 300px 281px, var(--c), #0000),
    radial-gradient(1.5px 1.5px at 150px 140.5px, var(--c) 100%, #0000 150%),
    radial-gradient(4px 100px at 0px 158px, var(--c), #0000),
    radial-gradient(4px 100px at 300px 158px, var(--c), #0000),
    radial-gradient(1.5px 1.5px at 150px 79px, var(--c) 100%, #0000 150%),
    radial-gradient(4px 100px at 0px 210px, var(--c), #0000),
    radial-gradient(4px 100px at 300px 210px, var(--c), #0000),
    radial-gradient(1.5px 1.5px at 150px 105px, var(--c) 100%, #0000 150%);
  background-size: 300px 235px, 300px 235px, 300px 235px,
                   300px 252px, 300px 252px, 300px 252px,
                   300px 150px, 300px 150px, 300px 150px,
                   300px 253px, 300px 253px, 300px 253px,
                   300px 204px, 300px 204px, 300px 204px,
                   300px 134px, 300px 134px, 300px 134px,
                   300px 179px, 300px 179px, 300px 179px,
                   300px 299px, 300px 299px, 300px 299px,
                   300px 215px, 300px 215px, 300px 215px,
                   300px 281px, 300px 281px, 300px 281px,
                   300px 158px, 300px 158px, 300px 158px,
                   300px 210px, 300px 210px, 300px 210px;
  opacity: .18; /* subtle */
  animation: hi 120s linear infinite;
}
.container > * { position: relative; z-index: 1; }

/* Top nav */
.nav {
  position: sticky; top: 0; z-index: 20;
  background: rgba(10,15,22,.75);
  backdrop-filter: saturate(140%) blur(10px);
  border-bottom: 1px solid var(--border);
}
.nav .container { display:flex; align-items:center; gap:20px; padding: 14px 20px; }
.nav h1 { margin:0; font-size: 18px; font-weight: 600; letter-spacing: .2px; color: var(--text); }
.nav nav { margin-left: auto; display:flex; gap: 10px; }
.nav nav a {
  color: var(--muted);
  text-decoration: none;
  padding: 8px 12px;
  border-radius: 8px;
  transition: color .2s ease, background-color .2s ease;
}
.nav nav a:hover { color: var(--text); background: rgba(255,255,255,.06); }

/* Headings */
h2 { margin: 8px 0 14px; font-size: 22px; font-weight: 700; letter-spacing: .2px; }
h3 { margin: 0 0 8px; font-size: 16px; font-weight: 700; }

/* Cards */
.card {
  background: linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.02));
  border: 1px solid var(--border);
  padding: 14px;
  border-radius: var(--radius);
  margin: 12px 0;
  box-shadow: var(--shadow);
  overflow-wrap:anywhere;
}

/* Forms */
label { display:block; margin:10px 0 6px; color: var(--muted); font-size: 13px; }
input[type="text"], textarea, select, input[type="number"] {
  width:100%; max-width:100%;
  padding:10px 12px;
  background: var(--surface-2);
  color: var(--text);
  border: 1px solid var(--border);
  border-radius: 10px;
  outline: none;
  transition: border-color .2s ease, box-shadow .2s ease, background .2s ease;
}
input::placeholder, textarea::placeholder { color: #7f8fa3; }
input:focus, textarea:focus, select:focus {
  border-color: var(--primary);
  box-shadow: 0 0 0 3px rgba(59,130,246,.25);
}

/* Buttons */
button, .btn {
  background: linear-gradient(180deg, var(--primary), var(--primary-600));
  color:#fff;
  padding:10px 14px;
  border:none; border-radius:10px; cursor:pointer;
  text-decoration:none; display:inline-block; font-weight:600;
  box-shadow: 0 6px 14px rgba(59,130,246,.25);
  transition: transform .1s ease, box-shadow .2s ease, filter .2s ease;
}
button:hover, .btn:hover { transform: translateY(-1px); box-shadow: 0 10px 20px rgba(59,130,246,.32); filter: brightness(1.02); }
button:active, .btn:active { transform: translateY(0); }
.danger { background: linear-gradient(180deg, var(--danger), #b91c1c); box-shadow: 0 6px 14px rgba(239,68,68,.25); }

/* Tables */
table { width:100%; border-collapse: collapse; background: var(--surface); table-layout: fixed; border: 1px solid var(--border); border-radius: var(--radius); overflow:hidden; box-shadow: var(--shadow); }
thead th { background: #0e1522; color: var(--muted); font-weight: 600; font-size: 12px; text-transform: uppercase; letter-spacing: .5px; }
th, td { padding:12px; border-bottom:1px solid var(--border); text-align:left; vertical-align:top; word-break: break-word; }
tbody tr:hover { background: rgba(255,255,255,.03); }
tbody tr:last-child td { border-bottom: none; }

/* Toolbar & pagination */
.toolbar { display:flex; flex-wrap: wrap; gap:12px; align-items:center; justify-content: space-between; margin:12px 0; }
.form .actions { margin-top:12px; display:flex; gap:10px; }
.pagination { margin-top:12px; display:flex; justify-content:space-between; align-items:center; color: var(--muted); }

/* Messages */
.error { background:#3b1d1f; color:#fca5a5; padding:10px; border:1px solid #7f1d1d; border-radius:10px; margin-bottom:10px; }

/* Preformatted answer */
pre { white-space: pre-wrap; word-break: break-word; overflow-wrap:anywhere; margin:0; color: var(--text); background: var(--surface); padding: 12px; border-radius: 10px; border: 1px solid var(--border); }

/* Links inside tables */
td a { color: #93c5fd; text-decoration: none; }
td a:hover { text-decoration: underline; }

/* Generating spinner styles */
.gen-spinner[hidden] { display: none !important; }
.gen-spinner { position:absolute; inset: 0; display:flex; align-items:center; justify-content:center; background: rgba(0,0,0,.2); border-radius: 10px; }
.loader-wrapper { position: relative; display:flex; align-items:center; justify-content:center; width: 180px; height: 180px; font-family: "Inter", ui-sans-serif, system-ui; font-size: 1.2em; font-weight: 300; color: #fff; border-radius: 50%; user-select:none; }
.loader { position:absolute; top:0; left:0; width:100%; aspect-ratio:1/1; border-radius:50%; background:transparent; animation: loader-rotate 2s linear infinite; z-index:0; }
@keyframes loader-rotate { 0%{ transform: rotate(90deg); box-shadow: 0 10px 20px 0 #fff inset, 0 20px 30px 0 #ad5fff inset, 0 60px 60px 0 #471eec inset; } 50%{ transform: rotate(270deg); box-shadow: 0 10px 20px 0 #fff inset, 0 20px 10px 0 #d60a47 inset, 0 40px 60px 0 #311e80 inset; } 100%{ transform: rotate(450deg); box-shadow: 0 10px 20px 0 #fff inset, 0 20px 30px 0 #ad5fff inset, 0 60px 60px 0 #471eec inset; } }
.loader-letter { display:inline-block; opacity:.6; transform: translateY(0); animation: loader-letter-anim 2s infinite; z-index:1; border-radius:50ch; border:none; padding: 0 2px; }
.loader-letter:nth-child(1){animation-delay:0s} .loader-letter:nth-child(2){animation-delay:.1s} .loader-letter:nth-child(3){animation-delay:.2s} .loader-letter:nth-child(4){animation-delay:.3s} .loader-letter:nth-child(5){animation-delay:.4s} .loader-letter:nth-child(6){animation-delay:.5s} .loader-letter:nth-child(7){animation-delay:.6s} .loader-letter:nth-child(8){animation-delay:.7s} .loader-letter:nth-child(9){animation-delay:.8s} .loader-letter:nth-child(10){animation-delay:.9s}
@keyframes loader-letter-anim { 0%,100%{ opacity:.5; transform: translateY(0);} 20%{opacity:1; transform: scale(1.15);} 40%{opacity:.7; transform: translateY(0);} }
